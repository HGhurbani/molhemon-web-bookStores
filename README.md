# 📚 Molhem Book Store - متجر دار ملهمون للكتب

> **نظام متجر إلكتروني متكامل للكتب الورقية والإلكترونية والصوتية مع إدارة طلبات شاملة**

## 🌟 الميزات الرئيسية

### 📖 إدارة المنتجات
- **دعم ثلاثة أنواع من المنتجات:**
  - 📄 كتب ورقية (تحتاج شحن)
  - 💻 كتب إلكترونية (تحميل فوري)
  - 🎧 كتب صوتية (استماع مباشر)
- إدارة مخزون تلقائية
- تصنيفات ومؤلفين متعددة
- بحث وفلترة متقدمة

### 🛒 نظام طلبات متكامل
- **إتمام طلب ذكي:**
  - تعبئة تلقائية لبيانات المستخدم المسجل
  - عناوين وطرق دفع محفوظة
  - شحن فقط للكتب الورقية
  - حساب تلقائي للضرائب والشحن
- **إدارة العملاء:**
  - ملفات شخصية شاملة
  - عناوين متعددة (افتراضي/فرعي)
  - طرق دفع محفوظة
  - نظام نقاط الولاء

### 💳 نظام دفع شامل
- **بوابات دفع متعددة:**
  - بطاقات ائتمان/خصم
  - PayPal
  - Apple Pay / Google Pay
  - تحويل بنكي
  - كاش عند الاستلام
  - عملات رقمية
- معالجة آمنة ومشفرة
- إدارة استردادات

### 🚚 نظام شحن ذكي
- **طرق شحن متنوعة:**
  - مجاني (للطلبات الكبيرة)
  - عادي (3-5 أيام)
  - سريع (1-2 يوم)
  - فوري (24 ساعة)
  - استلام من المتجر
- حساب تكلفة تلقائي حسب الوزن والمنطقة
- تتبع الشحنات

### ⚙️ إعدادات متجر مرنة
- **لوحة تحكم شاملة:**
  - إعدادات عامة للمتجر
  - إدارة طرق الدفع والشحن
  - إعدادات الضرائب
  - قواعد الطلبات والمخزون
  - إعدادات العملاء والإشعارات

### 🔐 أمان وموثوقية
- مصادقة Firebase مع JWT
- تشفير البيانات الحساسة
- معالجة أخطاء شاملة متعددة اللغات
- نظام إعادة المحاولة التلقائي

## 🚀 التقنيات المستخدمة

### Frontend
- **React 18** - مكتبة واجهة المستخدم
- **Vite** - أداة البناء السريعة
- **Tailwind CSS** - إطار عمل CSS
- **Framer Motion** - رسوم متحركة
- **React Router** - توجيه الصفحات
- **i18next** - الترجمة والتعدد اللغوي

### Backend & Database
- **Firebase** - منصة Backend كاملة
- **Firestore** - قاعدة بيانات NoSQL
- **Firebase Functions** - العمليات المعقدة
- **Firebase Auth** - نظام المصادقة
- **Firebase Storage** - تخزين الملفات
- **Firebase Hosting** - استضافة الموقع

### State Management & APIs
- **React Context** - إدارة الحالة
- **JWT** - إدارة الجلسات
- **RESTful APIs** - واجهات برمجة التطبيقات

## 📁 هيكل المشروع

```
src/
├── components/          # مكونات React قابلة للإعادة
│   ├── ui/             # مكونات واجهة المستخدم الأساسية
│   ├── Dashboard.jsx   # لوحة التحكم الرئيسية
│   └── ...
├── pages/              # صفحات التطبيق
│   ├── CheckoutPage.jsx     # صفحة إتمام الطلب المحسنة
│   ├── StoreSettingsPage.jsx # صفحة إعدادات المتجر
│   └── ...
├── lib/                # مكتبات ووحدات مساعدة
│   ├── models/         # نماذج البيانات
│   │   ├── Order.js         # نموذج الطلب
│   │   ├── Customer.js      # نموذج العميل
│   │   ├── StoreSettings.js # نموذج إعدادات المتجر
│   │   └── ...
│   ├── services/       # خدمات إدارة البيانات
│   │   ├── OrderService.js     # خدمة إدارة الطلبات
│   │   ├── CustomerService.js  # خدمة إدارة العملاء
│   │   ├── CartService.js      # خدمة سلة التسوق
│   │   └── ...
│   ├── firebase.js     # إعداد Firebase
│   ├── jwtAuth.js      # إدارة JWT
│   ├── errorHandler.js # معالجة الأخطاء
│   └── api.js          # واجهة API الموحدة
└── locales/            # ملفات الترجمة
    ├── ar.json         # العربية
    └── en.json         # الإنجليزية
```

## 🛠️ التثبيت والتشغيل

### ⚡ البدء السريع
```bash
# 1. تثبيت التبعيات
npm install
cd functions && npm install && cd ..

# 2. تسجيل الدخول Firebase
firebase login

# 3. تشغيل التطبيق
npm run dev
```

**🎉 تم!** التطبيق يعمل على: http://localhost:5173

### 📖 أدلة التثبيت المفصلة

- **[🚀 البدء السريع](./QUICK_START.md)** - تثبيت في 5 دقائق
- **[📋 دليل التثبيت الكامل](./INSTALLATION_GUIDE.md)** - دليل مفصل شامل
- **[🔧 دليل إعداد Firebase](./FIREBASE_SETUP_GUIDE.md)** - إعداد Firebase متقدم
- **[👨‍💻 دليل المطور](./DEVELOPER_GUIDE.md)** - دليل تطوير شامل
- **[📚 فهرس الوثائق](./DOCS_INDEX.md)** - جميع الوثائق في مكان واحد
- **[📊 حالة المشروع](./PROJECT_STATUS.md)** - حالة التثبيت والإعداد

### 🔍 أدلة التحقق والاختبار

- **[🔍 دليل التحقق الشامل](./SYSTEM_VERIFICATION_GUIDE.md)** - فحص جميع العمليات
- **[⚡ دليل الاختبار السريع](./QUICK_TEST_GUIDE.md)** - اختبار النظام في 10 دقائق

### 🔗 الروابط المهمة

- **الموقع الرئيسي:** http://localhost:5173
- **لوحة التحكم:** http://localhost:5173/dashboard
- **إعدادات المتجر:** http://localhost:5173/store-settings

### 📦 الأوامر الأساسية

```bash
# التطوير
npm run dev                    # تشغيل التطبيق
npm run build                  # بناء للإنتاج

# Firebase
firebase deploy                # نشر كل شيء
firebase deploy --only hosting # نشر الموقع فقط
npm run firebase:emulators     # تشغيل Firebase Emulators
```

> **💡 نصائح:** 
> - المشروع مربوط بـ Firebase مسبقاً
> - جميع متغيرات البيئة مُعدة
> - يمكنك البدء فوراً بعد تثبيت التبعيات

## 🎯 كيفية الاستخدام

### للعملاء

#### 1. التسوق
- تصفح الكتب حسب الفئات أو المؤلفين
- البحث المتقدم والفلترة
- إضافة المنتجات للسلة أو قائمة الرغبات

#### 2. إتمام الطلب
- **للمستخدمين المسجلين:**
  - تعبئة تلقائية للبيانات الشخصية
  - اختيار من العناوين المحفوظة
  - استخدام طرق الدفع المحفوظة
- **للمستخدمين الجدد:**
  - إدخال البيانات يدوياً
  - خيار حفظ البيانات للمرات القادمة

#### 3. أنواع المنتجات
- **كتب ورقية:** تحتاج اختيار طريقة شحن وعنوان
- **كتب إلكترونية:** تحميل فوري بعد الدفع
- **كتب صوتية:** استماع مباشر بعد الشراء

### للإدارة

#### 1. لوحة التحكم
- الوصول عبر `/admin` أو زر لوحة التحكم
- إحصائيات شاملة ولوحة معلومات

#### 2. إدارة المنتجات
- إضافة/تعديل/حذف الكتب
- إدارة الفئات والمؤلفين
- تتبع المخزون

#### 3. إدارة الطلبات
- عرض جميع الطلبات وحالاتها
- تحديث حالات الشحن والدفع
- إدارة المرتجعات والاستردادات

#### 4. إعدادات المتجر
- **الوصول:** `/store-settings`
- **الأقسام:**
  - إعدادات عامة
  - طرق الشحن والمناطق
  - بوابات الدفع
  - الضرائب والعملات
  - قواعد الطلبات
  - إعدادات العملاء
  - الإشعارات

#### 5. إدارة العملاء
- عرض ملفات العملاء
- إدارة العناوين وطرق الدفع
- نقاط الولاء والمكافآت

## 🔧 واجهات البرمجة (APIs)

### استخدام الخدمات

```javascript
import api from '@/lib/api.js';

// إدارة الطلبات
const order = await api.orders.createOrder(orderData);
await api.orders.updateOrderStatus(orderId, 'shipped');

// إدارة العملاء
const customer = await api.customers.getCustomerById(customerId);
await api.customers.addCustomerAddress(customerId, addressData);

// إعدادات المتجر
const settings = await api.storeSettings.getStoreSettings();
await api.storeSettings.updateShippingSettings(shippingData);

// سلة التسوق
const cart = await api.cart.createCart(customerId);
await api.cart.addToCart(cartId, productData);

// إتمام الطلب
const result = await api.orders.processCheckout(cartId, checkoutData);
```

## 🌐 الدعم متعدد اللغات

المتجر يدعم:
- 🇸🇦 العربية (افتراضي)
- 🇺🇸 الإنجليزية

### إضافة لغة جديدة
1. أنشئ ملف ترجمة في `src/locales/`
2. أضف اللغة في `src/lib/languageContext.jsx`
3. قم بتحديث مكون اختيار اللغة

## 💰 العملات المدعومة

- 🇸🇦 ريال سعودي (SAR)
- 🇦🇪 درهم إماراتي (AED)
- 🇺🇸 دولار أمريكي (USD)
- 🇪🇺 يورو (EUR)

## 📱 التوافق مع الأجهزة

- **سطح المكتب:** Chrome, Firefox, Safari, Edge
- **الجوال:** iOS Safari, Android Chrome
- **التابلت:** iPad, Android tablets
- تصميم متجاوب بالكامل

## 🔒 الأمان

### الميزات الأمنية
- ✅ تشفير HTTPS
- ✅ مصادقة Firebase
- ✅ JWT tokens آمنة
- ✅ تحقق من صحة البيانات
- ✅ حماية من XSS و CSRF
- ✅ متغيرات بيئة آمنة

### أفضل الممارسات
- عدم تخزين بيانات حساسة في localStorage
- تشفير كلمات المرور
- تحديد صلاحيات المستخدمين
- مراقبة العمليات المشبوهة

## 📊 المراقبة والتحليلات

- Firebase Analytics للإحصائيات
- تتبع الأداء والأخطاء
- تقارير المبيعات والعملاء
- إحصائيات الاستخدام

## 🚀 التطوير المستقبلي

### الميزات المخططة
- [ ] تطبيق جوال (React Native)
- [ ] نظام التوصيات الذكية
- [ ] برنامج الشراكة والعمولة
- [ ] دعم المدفوعات بالعملات الرقمية
- [ ] نظام المراجعات والتقييمات المتقدم
- [ ] دعم البيع بالجملة (B2B)
- [ ] تكامل مع أنظمة المحاسبة
- [ ] API عام للمطورين

### التحسينات التقنية
- [ ] PWA (Progressive Web App)
- [ ] تحسين السيو (SEO)
- [ ] تخزين مؤقت متقدم
- [ ] تحسين الأداء
- [ ] اختبارات تلقائية شاملة

## 🤝 المساهمة

### للمطورين
1. Fork المشروع
2. أنشئ فرع للميزة الجديدة
3. اكتب الكود مع الاختبارات
4. تأكد من اتباع معايير الكود
5. أرسل Pull Request

### معايير الكود
- استخدم ESLint و Prettier
- اكتب تعليقات باللغة العربية
- اتبع نمط التسمية الموحد
- اكتب اختبارات للميزات الجديدة

## 📞 الدعم والمساعدة

### التواصل
- 📧 البريد الإلكتروني: support@molhemon.com
- 💬 الدردشة المباشرة في الموقع
- 📱 واتساب: +966-XX-XXX-XXXX

### الموارد
- 📚 [دليل المستخدم](./docs/user-guide.md)
- 🛠️ [دليل المطور](./docs/developer-guide.md)
- 🐛 [الإبلاغ عن الأخطاء](./docs/bug-report.md)
- ❓ [الأسئلة الشائعة](./docs/faq.md)

## 📄 الترخيص

هذا المشروع مرخص تحت رخصة MIT. راجع ملف [LICENSE](./LICENSE) للتفاصيل.

## 🙏 شكر وتقدير

- **فريق Firebase** لتوفير منصة قوية ومرنة
- **مجتمع React** للأدوات والمكتبات الرائعة
- **مصممي Tailwind CSS** لإطار العمل الجميل
- **جميع المساهمين** في تطوير هذا المشروع

---

<div align="center">

**صُنع بـ ❤️ بواسطة فريق دار ملهمون**

[الموقع الرسمي](https://molhemon.com) | [المتجر](https://store.molhemon.com) | [المدونة](https://blog.molhemon.com)

</div>
