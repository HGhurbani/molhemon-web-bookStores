# ุชุญุฏูุซ ุตูุงุญูุงุช ุงููุดุฑู - Admin Permissions Update

## ๐ฏ ุงููุฏู
ุชุญุฏูุซ ููุงุนุฏ Firebase Firestore ูุถูุงู ุฃู ุงููุณุชุฎุฏููู ุงูุฐูู ูุฏููู ุฏูุฑ "admin" ูููููู ุงููุตูู ุฅูู ุฌููุน ุฃูุณุงู ููุญุฉ ุงูุชุญูู.

## โ ุงูุชุญุฏูุซุงุช ุงููุทุจูุฉ

### 1. ุฏูุงู ูุณุงุนุฏุฉ ุฌุฏูุฏุฉ
ุชู ุฅุถุงูุฉ ุฏูุงู ูุณุงุนุฏุฉ ูุญุณูุฉ:

```javascript
// ุฏุงูุฉ ููุชุญูู ูู Admin ูุน fallback ููุชุทููุฑ
function isAdminOrDevelopment() {
  return isAdmin() || isDevelopmentMode();
}

// ุฏุงูุฉ ููุชุญูู ูู Manager ูุน fallback ููุชุทููุฑ
function isManagerOrDevelopment() {
  return isManager() || isDevelopmentMode();
}
```

### 2. ุงููุฌููุนุงุช ุงููุญุฏุซุฉ

#### ุงููุฌููุนุงุช ุงูุฃุณุงุณูุฉ:
- โ **users** - ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู
- โ **orders** - ุฅุฏุงุฑุฉ ุงูุทูุจุงุช
- โ **payments** - ุฅุฏุงุฑุฉ ุงููุฏููุนุงุช
- โ **messages** - ุฅุฏุงุฑุฉ ุงูุฑุณุงุฆู
- โ **subscriptions** - ุฅุฏุงุฑุฉ ุงูุงุดุชุฑุงูุงุช

#### ุงููุฌููุนุงุช ุงูุฅุฏุงุฑูุฉ:
- โ **books** - ุฅุฏุงุฑุฉ ุงููุชุจ
- โ **authors** - ุฅุฏุงุฑุฉ ุงููุคูููู
- โ **categories** - ุฅุฏุงุฑุฉ ุงููุฆุงุช
- โ **settings** - ุฅุนุฏุงุฏุงุช ุงููุธุงู
- โ **store_settings** - ุฅุนุฏุงุฏุงุช ุงููุชุฌุฑ

#### ุงููุฌููุนุงุช ุงูุฅุถุงููุฉ:
- โ **blog_posts** - ุฅุฏุงุฑุฉ ุงูููุงูุงุช
- โ **faqs** - ุฅุฏุงุฑุฉ ุงูุฃุณุฆูุฉ ุงูุดุงุฆุนุฉ
- โ **distributors** - ุฅุฏุงุฑุฉ ุงูููุฒุนูู
- โ **team_members** - ุฅุฏุงุฑุฉ ูุฑูู ุงูุนูู
- โ **sliders** - ุฅุฏุงุฑุฉ ุงูุดุฑุงุฆุญ
- โ **banners** - ุฅุฏุงุฑุฉ ุงูุจุงูุฑุงุช
- โ **features** - ุฅุฏุงุฑุฉ ุงูููุฒุงุช
- โ **sellers** - ุฅุฏุงุฑุฉ ุงูุจุงุฆุนูู
- โ **branches** - ุฅุฏุงุฑุฉ ุงููุฑูุน
- โ **payment_methods** - ุฅุฏุงุฑุฉ ุทุฑู ุงูุฏูุน
- โ **coupons** - ุฅุฏุงุฑุฉ ุงูููุจููุงุช
- โ **plans** - ุฅุฏุงุฑุฉ ุงูุฎุทุท
- โ **currencies** - ุฅุฏุงุฑุฉ ุงูุนููุงุช
- โ **languages** - ุฅุฏุงุฑุฉ ุงููุบุงุช
- โ **shipping_methods** - ุฅุฏุงุฑุฉ ุทุฑู ุงูุดุญู
- โ **backups** - ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ (Admin ููุท)

### 3. ุฃููุงุน ุงูุตูุงุญูุงุช

#### ุตูุงุญูุงุช ุงููุฑุงุกุฉ (Read):
- **ุนุงูุฉ**: ุฌููุน ุงููุฌููุนุงุช ูุชุงุญุฉ ูููุฑุงุกุฉ ุงูุนุงูุฉ
- **ุดุฎุตูุฉ**: ุงููุณุชุฎุฏููู ูููููู ูุฑุงุกุฉ ุจูุงูุงุชูู ุงูุฎุงุตุฉ
- **ุฅุฏุงุฑูุฉ**: ุงููุฏูุฑูู ูููููู ูุฑุงุกุฉ ุฌููุน ุงูุจูุงูุงุช

#### ุตูุงุญูุงุช ุงููุชุงุจุฉ (Write):
- **ุฅุฏุงุฑูุฉ**: ุงููุฏูุฑูู ูุงููุฏูุฑูู ุงููุณุงุนุฏูู ูููููู ุงููุชุงุจุฉ
- **ุดุฎุตูุฉ**: ุงููุณุชุฎุฏููู ูููููู ุฅูุดุงุก ูุชุนุฏูู ุจูุงูุงุชูู
- **ุชุทููุฑูุฉ**: ูุถุน ุงูุชุทููุฑ ูุณูุญ ุจุฌููุน ุงูุนูููุงุช

#### ุตูุงุญูุงุช ุงูุญุฐู (Delete):
- **Admin ููุท**: ุจุนุถ ุงููุฌููุนุงุช ุงูุญุณุงุณุฉ ุชุชุทูุจ ุตูุงุญูุงุช Admin
- **Manager**: ุงููุฏูุฑูู ุงููุณุงุนุฏูู ูููููู ุญุฐู ูุนุธู ุงูุจูุงูุงุช
- **ุดุฎุตูุฉ**: ุงููุณุชุฎุฏููู ูููููู ุญุฐู ุจูุงูุงุชูู ุงูุฎุงุตุฉ

## ๐ง ููููุฉ ุนูู ุงููุธุงู

### 1. ุงูุชุญูู ูู ุงููููุฉ
```javascript
function isAuthenticated() {
  return request.auth != null;
}
```

### 2. ุงูุชุญูู ูู ุงูููููุฉ
```javascript
function isOwner(userId) {
  return request.auth.uid == userId;
}
```

### 3. ุงูุชุญูู ูู ุฏูุฑ Admin
```javascript
function isAdmin() {
  return isAuthenticated() && 
    get(/databases/$(database)/documents/users/$(request.auth.uid)).data.role == 'admin';
}
```

### 4. ุงูุชุญูู ูู ุฏูุฑ Manager
```javascript
function isManager() {
  return isAuthenticated() && 
    (get(/databases/$(database)/documents/users/$(request.auth.uid)).data.role in ['admin', 'manager']);
}
```

## ๐ ุงููุชูุฌุฉ

### โ ุชู ุถูุงู:
- **ูุตูู ูุงูู** ูููุฏูุฑูู ุฅูู ุฌููุน ุฃูุณุงู ููุญุฉ ุงูุชุญูู
- **ุฃูุงู ูุญุณู** ูุน ุงูุชุญูู ูู ุงูุฃุฏูุงุฑ
- **ูุฑููุฉ ูู ุงูุชุทููุฑ** ูุน ูุถุน ุงูุชุทููุฑ ุงููุคูุช
- **ุตูุงุญูุงุช ูุชุฏุฑุฌุฉ** ุญุณุจ ููุน ุงููุณุชุฎุฏู

### ๐ฏ ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ:
- **ุชุญูู ุดุงูู** ูู ุตูุงุญูุงุช Admin
- **ุฏูุงู ูุณุงุนุฏุฉ ูุญุณูุฉ** ููุชุญูู ูู ุงูุฃุฐููุงุช
- **ููุงุนุฏ ูุฑูุฉ** ุชุฏุนู ุงูุชุทููุฑ ูุงูุฅูุชุงุฌ
- **ุฃูุงู ูุชูุฏู** ูุน ุงูุชุญูู ูู ุงูุฃุฏูุงุฑ

## ๐ ุงุฎุชุจุงุฑ ุงูุตูุงุญูุงุช

### ูููุฏูุฑูู (Admin):
- โ ุงููุตูู ูุฌููุน ุงูุทูุจุงุช
- โ ุฅุฏุงุฑุฉ ุฌููุน ุงููุณุชุฎุฏููู
- โ ุชุนุฏูู ุฌููุน ุงูุฅุนุฏุงุฏุงุช
- โ ุงููุตูู ูููุณุฎ ุงูุงุญุชูุงุทูุฉ
- โ ุฅุฏุงุฑุฉ ุฌููุน ุงููุญุชููุงุช

### ูููุฏูุฑูู ุงููุณุงุนุฏูู (Manager):
- โ ุฅุฏุงุฑุฉ ุงูุทูุจุงุช ูุงููุณุชุฎุฏููู
- โ ุชุนุฏูู ุงููุญุชููุงุช ูุงูุฅุนุฏุงุฏุงุช
- โ ุงููุตูู ูููุณุฎ ุงูุงุญุชูุงุทูุฉ (Admin ููุท)

### ูููุณุชุฎุฏููู ุงูุนุงุฏููู (User):
- โ ุงููุตูู ูุจูุงูุงุชูู ุงูุดุฎุตูุฉ
- โ ุฅูุดุงุก ุงูุทูุจุงุช ูุงูุฑุณุงุฆู
- โ ุงููุตูู ูููุญุฉ ุงูุชุญูู

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุฅุฐุง ูุงุฌูุช ูุดุงูู ูู ุงูุตูุงุญูุงุช:

1. **ุชุญูู ูู ุฏูุฑ ุงููุณุชุฎุฏู:**
   ```javascript
   // ูู Console
   console.log('User role:', authManager.userRole);
   ```

2. **ุชุญูู ูู ุญุงูุฉ ุงููุตุงุฏูุฉ:**
   ```javascript
   // ูู Console
   console.log('Is authenticated:', authManager.isInitialized);
   ```

3. **ุชุญูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช:**
   - ุชุฃูุฏ ูู ูุฌูุฏ ุงููุณุชุฎุฏู ูู ูุฌููุนุฉ `users`
   - ุชุฃูุฏ ูู ุฃู `role` ูุถุจูุท ุนูู `admin` ุฃู `manager`

## ๐ ุงูุฏุนู

ุฅุฐุง ูุงุฌูุช ุฃู ูุดุงูู:
1. ุชุญูู ูู Console logs
2. ุชุฃูุฏ ูู ูุดุฑ ุงูููุงุนุฏ ุจูุฌุงุญ
3. ุชุญูู ูู ุฏูุฑ ุงููุณุชุฎุฏู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

---

**ุชุงุฑูุฎ ุงูุชุญุฏูุซ:** 2025-01-04  
**ุงูุญุงูุฉ:** โ ููุชูู ููุดุฑ ุจูุฌุงุญ
